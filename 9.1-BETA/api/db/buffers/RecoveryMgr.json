{"implements":[],"javadoc":"","static":false,"extends":"java.lang.Object","methods":[{"javadoc":"Constructor used to perform recovery.\n Once constructed snapshots may be performed.\n@param bufferMgr\n@param monitor","static":false,"name":"<init>","comment":"Constructor used to perform recovery.\n Once constructed snapshots may be performed.","params":[{"type_long":"db.buffers.BufferMgr","name":"bufferMgr","comment":"","type_short":"BufferMgr"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"","type_short":"TaskMonitor"}],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"},{"type_long":"ghidra.util.exception.CancelledException","comment":"","type_short":"CancelledException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Constructor for snapshot use only.\n@param bufferMgr","static":false,"name":"<init>","comment":"Constructor for snapshot use only.","params":[{"type_long":"db.buffers.BufferMgr","name":"bufferMgr","comment":"","type_short":"BufferMgr"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"dispose","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"recovered","comment":"","params":[],"throws":[],"return":{"type_long":"boolean","comment":"","type_short":"boolean"}},{"javadoc":"Returns the recovery change data file for reading or null if one is not available.\n The caller must dispose of the returned file before peforming generating any new\n recovery snapshots.\n@throws IOException","static":false,"name":"getRecoveryChangeSetFile","comment":"Returns the recovery change data file for reading or null if one is not available.\n The caller must dispose of the returned file before peforming generating any new\n recovery snapshots.","params":[],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"db.buffers.LocalBufferFile","comment":"","type_short":"LocalBufferFile"}},{"javadoc":"","static":false,"name":"clear","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":true,"name":"canRecover","comment":"","params":[{"type_long":"db.buffers.LocalBufferFile","name":"bf","comment":"","type_short":"LocalBufferFile"}],"throws":[],"return":{"type_long":"boolean","comment":"","type_short":"boolean"}},{"javadoc":"","static":true,"name":"getRecoveryFile","comment":"","params":[{"type_long":"db.buffers.LocalBufferFile","name":"srcBf","comment":"","type_short":"LocalBufferFile"},{"type_long":"java.io.File[]","name":"snapshotFiles","comment":"","type_short":"java.io.File[]"}],"throws":[],"return":{"type_long":"db.buffers.RecoveryFile","comment":"","type_short":"RecoveryFile"}},{"javadoc":"","static":true,"name":"getSnapshotFiles","comment":"","params":[{"type_long":"db.buffers.LocalBufferFile","name":"bf","comment":"","type_short":"LocalBufferFile"}],"throws":[],"return":{"type_long":"java.io.File[]","comment":"","type_short":"java.io.File[]"}},{"javadoc":"","static":true,"name":"getChangeFiles","comment":"","params":[{"type_long":"db.buffers.LocalBufferFile","name":"bf","comment":"","type_short":"LocalBufferFile"}],"throws":[],"return":{"type_long":"java.io.File[]","comment":"","type_short":"java.io.File[]"}},{"javadoc":"Open a recovery file for an updated snapshot\n@param indexCnt the total number of allocated indexes within the corresponding source buffer file.\n@param freeIndexes a list of indexes which are currently free\/empty.\n@param changeSet an optional database-backed change set which reflects changes\n made since the last version.\n@param monitor\n@throws IOException\n@throws CancelledException","static":false,"name":"startSnapshot","comment":"Open a recovery file for an updated snapshot","params":[{"type_long":"int","name":"indexCnt","comment":"the total number of allocated indexes within the corresponding source buffer file.","type_short":"int"},{"type_long":"int[]","name":"freeIndexes","comment":"a list of indexes which are currently free\/empty.","type_short":"int[]"},{"type_long":"db.DBChangeSet","name":"changeSet","comment":"an optional database-backed change set which reflects changes\n made since the last version.","type_short":"DBChangeSet"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"","type_short":"TaskMonitor"}],"throws":[{"type_long":"ghidra.util.exception.CancelledException","comment":"","type_short":"CancelledException"},{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Returns true if snapshot is in progress","static":false,"name":"isSnapshotInProgress","comment":"Returns true if snapshot is in progress","params":[],"throws":[],"return":{"type_long":"boolean","comment":"","type_short":"boolean"}},{"javadoc":"End the recovery snapshot and close the underlying file.\n@param commit if true the snapshot is finalized and stored, otherwise\n the snapshot is deleted.","static":false,"name":"endSnapshot","comment":"End the recovery snapshot and close the underlying file.","params":[{"type_long":"boolean","name":"commit","comment":"if true the snapshot is finalized and stored, otherwise\n the snapshot is deleted.","type_short":"boolean"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Write a modified buffer corresponding to the specified BufferNode\n to the current open snapshot file.  The following BufferNode fields\n are utilized which should not be modified concurrent with this\n method invocation: 'id' and  'snapshotTaken'.\n@param buf\n@param node\n@throws IOException","static":false,"name":"putBuffer","comment":"Write a modified buffer corresponding to the specified BufferNode\n to the current open snapshot file.  The following BufferNode fields\n are utilized which should not be modified concurrent with this\n method invocation: 'id' and  'snapshotTaken'.","params":[{"type_long":"db.buffers.DataBuffer","name":"buffer","comment":"","type_short":"DataBuffer"},{"type_long":"db.buffers.BufferNode","name":"node","comment":"","type_short":"BufferNode"}],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"printStats","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}}],"name":"RecoveryMgr","comment":"","fields":[{"type_long":"java.lang.String","javadoc":"","static":true,"name":"SNAPSHOT1_FILE","comment":"","type_short":"String","constant_value":"\"snapshotA.grf\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"SNAPSHOT2_FILE","comment":"","type_short":"String","constant_value":"\"snapshotB.grf\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"SNAPSHOT1_CHANGESET_FILE","comment":"","type_short":"String","constant_value":"\"changeA.grf\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"SNAPSHOT2_CHANGESET_FILE","comment":"","type_short":"String","constant_value":"\"changeB.grf\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"CHANGE_SET_REQUIRED_PARM","comment":"","type_short":"String","constant_value":"\"\""},{"type_long":"java.io.File[]","javadoc":"","static":false,"name":"snapshotFiles","comment":"","type_short":"java.io.File[]","constant_value":null},{"type_long":"java.io.File[]","javadoc":"","static":false,"name":"changeFiles","comment":"","type_short":"java.io.File[]","constant_value":null},{"type_long":"int","javadoc":"","static":false,"name":"snapshotIndex","comment":"","type_short":"int","constant_value":null},{"type_long":"db.buffers.RecoveryFile","javadoc":"","static":false,"name":"activeFile","comment":"","type_short":"RecoveryFile","constant_value":null},{"type_long":"ghidra.util.datastruct.IntSet","javadoc":"","static":false,"name":"oldIndexSet","comment":"","type_short":"IntSet","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"newSnapshot","comment":"","type_short":"boolean","constant_value":null},{"type_long":"long","javadoc":"","static":false,"name":"lastSnapshotTime","comment":"","type_short":"long","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"recovered","comment":"","type_short":"boolean","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"recoveryHasChangeSet","comment":"","type_short":"boolean","constant_value":null},{"type_long":"db.buffers.BufferMgr","javadoc":"","static":false,"name":"bufferMgr","comment":"","type_short":"BufferMgr","constant_value":null},{"type_long":"int[]","javadoc":"","static":false,"name":"buffersSaved","comment":"","type_short":"int[]","constant_value":null},{"type_long":"int[]","javadoc":"","static":false,"name":"buffersIgnored","comment":"","type_short":"int[]","constant_value":null},{"type_long":"int[]","javadoc":"","static":false,"name":"buffersRemoved","comment":"","type_short":"int[]","constant_value":null}]}
