{"implements":[],"javadoc":"<code>Database<\/code> facilitates the creation of a DBHandle for accessing\n a database.\n <p>\n Public constructors are only provided for use with \"Non-Versioned\" databases.\n This class should be extended when additional management features are needed, \n such as for a \"Versioned\" database.\n <p>\n This class assumes exclusive control of the associated files contained within the \n associated database directory and relies on the proper establishment of a \n syncObject to midigate potential concurrent modification issues.","static":false,"extends":"java.lang.Object","methods":[{"javadoc":"General Database Constructor.\n@param dbDir\n@param isVersioned\n@param create if true the database will be created.\n@throws IOException","static":false,"name":"<init>","comment":"General Database Constructor.","params":[{"type_long":"java.io.File","name":"dbDir","comment":"","type_short":"File"},{"type_long":"boolean","name":"isVersioned","comment":"","type_short":"boolean"},{"type_long":"boolean","name":"create","comment":"if true the database will be created.","type_short":"boolean"}],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Constructor for a new or existing \"Non-Versioned\" Database.\n@param dbDir\n@param dbFileListener file version listener\n@param create\n@throws IOException","static":false,"name":"<init>","comment":"Constructor for a new or existing \"Non-Versioned\" Database.","params":[{"type_long":"java.io.File","name":"dbDir","comment":"","type_short":"File"},{"type_long":"db.DBFileListener","name":"dbFileListener","comment":"file version listener","type_short":"DBFileListener"},{"type_long":"boolean","name":"create","comment":"","type_short":"boolean"}],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Constructor for an existing \"Non-Versioned\" Database.\n@param dbDir database directory\n@throws IOException","static":false,"name":"<init>","comment":"Constructor for an existing \"Non-Versioned\" Database.","params":[{"type_long":"java.io.File","name":"dbDir","comment":"database directory","type_short":"File"}],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Set the object to be used for synchronization.\n@param syncObject","static":false,"name":"setSynchronizationObject","comment":"Set the object to be used for synchronization.","params":[{"type_long":"java.lang.Object","name":"syncObject","comment":"","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Returns the time at which this database was last saved.","static":false,"name":"lastModified","comment":"Returns the time at which this database was last saved.","params":[],"throws":[],"return":{"type_long":"long","comment":"","type_short":"long"}},{"javadoc":"Delete a directory and all of its contents.\n@param dir\n@return true if delete was successful.  \n If false is returned, a partial delete may have occurred.","static":true,"name":"deleteDir","comment":"Delete a directory and all of its contents.","params":[{"type_long":"java.io.File","name":"dir","comment":"","type_short":"File"}],"throws":[],"return":{"type_long":"boolean","comment":"true if delete was successful.  \n If false is returned, a partial delete may have occurred.","type_short":"boolean"}},{"javadoc":"Returns the version number associated with the latest buffer file version.","static":false,"name":"getCurrentVersion","comment":"Returns the version number associated with the latest buffer file version.","params":[],"throws":[],"return":{"type_long":"int","comment":"","type_short":"int"}},{"javadoc":"Open the stored database for non-update use.\n The returned handle does not support the Save operation.\n@param monitor task monitor (may be null)\n@return database handle\n@throws FileInUseException thrown if unable to obtain the required database lock(s).\n@throws IOException thrown if IO error occurs.\n@throws CancelledException if cancelled by monitor","static":false,"name":"open","comment":"Open the stored database for non-update use.\n The returned handle does not support the Save operation.","params":[{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"task monitor (may be null)","type_short":"TaskMonitor"}],"throws":[{"type_long":"java.io.IOException","comment":"thrown if IO error occurs.","type_short":"IOException"},{"type_long":"ghidra.util.exception.CancelledException","comment":"if cancelled by monitor","type_short":"CancelledException"}],"return":{"type_long":"db.DBHandle","comment":"database handle","type_short":"DBHandle"}},{"javadoc":"Open the stored database for update use.\n@param monitor task monitor (may be null)\n@return buffer file\n@throws FileInUseException thrown if unable to obtain the required database lock(s).\n@throws IOException thrown if IO error occurs.\n@throws CancelledException if cancelled by monitor","static":false,"name":"openForUpdate","comment":"Open the stored database for update use.","params":[{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"task monitor (may be null)","type_short":"TaskMonitor"}],"throws":[{"type_long":"java.io.IOException","comment":"thrown if IO error occurs.","type_short":"IOException"},{"type_long":"ghidra.util.exception.CancelledException","comment":"if cancelled by monitor","type_short":"CancelledException"}],"return":{"type_long":"db.DBHandle","comment":"buffer file","type_short":"DBHandle"}},{"javadoc":"Returns the length of this domain file.  This size is the minimum disk space\n used for storing this file, but does not account for additional storage space\n used to tracks changes, etc.\n@return file length\n@throws IOException thrown if IO or access error occurs","static":false,"name":"length","comment":"Returns the length of this domain file.  This size is the minimum disk space\n used for storing this file, but does not account for additional storage space\n used to tracks changes, etc.","params":[],"throws":[{"type_long":"java.io.IOException","comment":"thrown if IO or access error occurs","type_short":"IOException"}],"return":{"type_long":"long","comment":"file length","type_short":"long"}},{"javadoc":"","static":false,"name":"checkDbDir","comment":"","params":[],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Scan files and update state.","static":false,"name":"refresh","comment":"Scan files and update state.","params":[],"throws":[{"type_long":"java.io.FileNotFoundException","comment":"","type_short":"FileNotFoundException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Scan files and update state.\n@param repair if true files are repaired if needed.","static":false,"name":"scanFiles","comment":"Scan files and update state.","params":[{"type_long":"boolean","name":"repair","comment":"if true files are repaired if needed.","type_short":"boolean"}],"throws":[{"type_long":"java.io.FileNotFoundException","comment":"","type_short":"FileNotFoundException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"getFileVersions","comment":"","params":[{"type_long":"java.util.ArrayList<java.lang.String>","name":"fileList","comment":"","type_short":"ArrayList"}],"throws":[],"return":{"type_long":"int[]","comment":"","type_short":"int[]"}}],"name":"Database","comment":"Database facilitates the creation of a DBHandle for accessing\n a database.\n \n Public constructors are only provided for use with \"Non-Versioned\" databases.\n This class should be extended when additional management features are needed, \n such as for a \"Versioned\" database.\n \n This class assumes exclusive control of the associated files contained within the \n associated database directory and relies on the proper establishment of a \n syncObject to midigate potential concurrent modification issues.","fields":[{"type_long":"org.apache.logging.log4j.Logger","javadoc":"","static":true,"name":"log","comment":"","type_short":"Logger","constant_value":null},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"DATABASE_FILE_PREFIX","comment":"","type_short":"String","constant_value":"\"db.\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"VERSION_FILE_PREFIX","comment":"","type_short":"String","constant_value":"\"ver.\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"CHANGE_FILE_PREFIX","comment":"","type_short":"String","constant_value":"\"change.\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"CUMULATIVE_CHANGE_FILENAME","comment":"","type_short":"String","constant_value":"\"change.data.gbf\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"CUMULATIVE_MODMAP_FILENAME","comment":"","type_short":"String","constant_value":"\"change.map.gbf\""},{"type_long":"int","javadoc":"","static":false,"name":"minVersion","comment":"","type_short":"int","constant_value":null},{"type_long":"int","javadoc":"","static":false,"name":"currentVersion","comment":"","type_short":"int","constant_value":null},{"type_long":"long","javadoc":"","static":false,"name":"lastModified","comment":"","type_short":"long","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"isVersioned","comment":"","type_short":"boolean","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"isCheckOutCopy","comment":"","type_short":"boolean","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"updateAllowed","comment":"","type_short":"boolean","constant_value":null},{"type_long":"db.buffers.BufferFileManager","javadoc":"","static":false,"name":"bfMgr","comment":"","type_short":"BufferFileManager","constant_value":null},{"type_long":"java.io.File","javadoc":"","static":false,"name":"dbDir","comment":"","type_short":"File","constant_value":null},{"type_long":"db.DBFileListener","javadoc":"","static":false,"name":"dbFileListener","comment":"","type_short":"DBFileListener","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"dbDirCreated","comment":"","type_short":"boolean","constant_value":null},{"type_long":"java.lang.Object","javadoc":"","static":false,"name":"syncObject","comment":"","type_short":"Object","constant_value":null}]}
