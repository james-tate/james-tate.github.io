{"implements":[],"javadoc":"Utility class for managing Ghidra Extensions. \n <p>\n Extensions are defined as any archive or folder that contains an <code>extension.properties<\/code>\n file. This properties file can contain the following attributes:\n <ul>\n <li>name (required)<\/li>\n <li>description<\/li>\n <li>author<\/li>\n <li>createdOn (format: mm\/dd\/yyyy)<\/li>\n <\/ul>\n \n  Extensions may be installed\/uninstalled by users at runtime, using the {@link ExtensionTableProvider}. \n  Installation consists of unzipping the extension archive to an installation folder, currently \n  <code>Ghidra\/Extensions<\/code>. To uninstall, the unpacked folder is simply removed.","static":false,"extends":"java.lang.Object","methods":[{"javadoc":"","static":false,"name":"<init>","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Returns a set of all extensions known to Ghidra, represented by\n {@link ExtensionDetails} objects. This will include all installed\n AND archived extensions.\n <p>\n Note that this method will only look in the known extension folder locations:\n <ul>\n <li>{@link ApplicationLayout#getExtensionArchiveDir}<\/li>\n <li>{@link ApplicationLayout#getExtensionInstallationDir}<\/li>\n <\/ul>\n If users install extensions from other locations, the installed version of \n the extension will be known, but the source archive location will not be retained.\n@return list of unique extensions\n@throws ExtensionException if extensions cannot be retrieved","static":true,"name":"getExtensions","comment":"Returns a set of all extensions known to Ghidra, represented by\n ExtensionDetails objects. This will include all installed\n AND archived extensions.\n \n Note that this method will only look in the known extension folder locations:\n \n ApplicationLayout#getExtensionArchiveDir\n ApplicationLayout#getExtensionInstallationDir\n \n If users install extensions from other locations, the installed version of \n the extension will be known, but the source archive location will not be retained.","params":[],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if extensions cannot be retrieved","type_short":"ExtensionException"}],"return":{"type_long":"java.util.Set<ghidra.framework.plugintool.dialog.ExtensionDetails>","comment":"list of unique extensions","type_short":"Set"}},{"javadoc":"Returns all installed extensions. These are all the extensions found in\n {@link ApplicationLayout#getExtensionInstallationDir}.\n@param includeUninstalled if true, include extensions that have been marked for removal\n@return set of installed extensions\n@throws ExtensionException if the extension details cannot be retrieved","static":true,"name":"getInstalledExtensions","comment":"Returns all installed extensions. These are all the extensions found in\n ApplicationLayout#getExtensionInstallationDir.","params":[{"type_long":"boolean","name":"includeUninstalled","comment":"if true, include extensions that have been marked for removal","type_short":"boolean"}],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if the extension details cannot be retrieved","type_short":"ExtensionException"}],"return":{"type_long":"java.util.Set<ghidra.framework.plugintool.dialog.ExtensionDetails>","comment":"set of installed extensions","type_short":"Set"}},{"javadoc":"Returns all archived extensions. These are all the extensions found in\n {@link ApplicationLayout#getExtensionArchiveDir}.\n@return set of archived extensions\n@throws ExtensionException if the extension details cannot be retrieved","static":true,"name":"getArchivedExtensions","comment":"Returns all archived extensions. These are all the extensions found in\n ApplicationLayout#getExtensionArchiveDir.","params":[],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if the extension details cannot be retrieved","type_short":"ExtensionException"}],"return":{"type_long":"java.util.Set<ghidra.framework.plugintool.dialog.ExtensionDetails>","comment":"set of archived extensions","type_short":"Set"}},{"javadoc":"Returns true if an extension with the given name exists in the install folder.\n@param extensionName the name of the extension\n@return true if installed","static":true,"name":"isInstalled","comment":"Returns true if an extension with the given name exists in the install folder.","params":[{"type_long":"java.lang.String","name":"extensionName","comment":"the name of the extension","type_short":"String"}],"throws":[],"return":{"type_long":"boolean","comment":"true if installed","type_short":"boolean"}},{"javadoc":"Installs the given extension file. This can be either an archive (zip) or a \n directory that contains an extension.properties file.\n@param rFile the extension to install\n@return true if the extension was successfully installed","static":true,"name":"install","comment":"Installs the given extension file. This can be either an archive (zip) or a \n directory that contains an extension.properties file.","params":[{"type_long":"generic.jar.ResourceFile","name":"rFile","comment":"the extension to install","type_short":"ResourceFile"}],"throws":[],"return":{"type_long":"boolean","comment":"true if the extension was successfully installed","type_short":"boolean"}},{"javadoc":"Installs the given extension.\n@param extension the extension to install\n@param overwrite if true, any existing extension will be overwritten\n@return true if the install was successful","static":true,"name":"install","comment":"Installs the given extension.","params":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionDetails","name":"extension","comment":"the extension to install","type_short":"ExtensionDetails"},{"type_long":"boolean","name":"overwrite","comment":"if true, any existing extension will be overwritten","type_short":"boolean"}],"throws":[],"return":{"type_long":"boolean","comment":"true if the install was successful","type_short":"boolean"}},{"javadoc":"Uninstalls a given extension.\n@param extension the extension to uninstall\n@return true if successfully uninstalled","static":true,"name":"uninstall","comment":"Uninstalls a given extension.","params":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionDetails","name":"extension","comment":"the extension to uninstall","type_short":"ExtensionDetails"}],"throws":[],"return":{"type_long":"boolean","comment":"true if successfully uninstalled","type_short":"boolean"}},{"javadoc":"Returns true if the given file or directory is a valid ghidra extension.\n <p>\n Note: This means that the zip or directory contains an extension.properties file.\n@param rFile the resource zip or directory to inspect\n@return true if the given file represents a valid extension\n@throws ExtensionException if there's an error processing a zip file","static":true,"name":"isExtension","comment":"Returns true if the given file or directory is a valid ghidra extension.\n \n Note: This means that the zip or directory contains an extension.properties file.","params":[{"type_long":"generic.jar.ResourceFile","name":"rFile","comment":"the resource zip or directory to inspect","type_short":"ResourceFile"}],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if there's an error processing a zip file","type_short":"ExtensionException"}],"return":{"type_long":"boolean","comment":"true if the given file represents a valid extension","type_short":"boolean"}},{"javadoc":"Returns true if the given file is a valid .zip archive.\n@param file the file to test\n@return true if file is a valid zip\n@throws ExtensionException if there's an error reading the zip file","static":true,"name":"isZip","comment":"Returns true if the given file is a valid .zip archive.","params":[{"type_long":"java.io.File","name":"file","comment":"the file to test","type_short":"File"}],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if there's an error reading the zip file","type_short":"ExtensionException"}],"return":{"type_long":"boolean","comment":"true if file is a valid zip","type_short":"boolean"}},{"javadoc":"Returns a list of files representing all the <code>extension.properties<\/code> files found\n under a given directory. This will ONLY search the given directory and its immediate children. \n The conops are as follows:\n <ul>\n <li>If sourceFile is a directory and it contains an extension.properties file, then that file is returned<\/li>\n <li>If sourceFile does not contain an extension.properties file, then any immediate directories are searched (ignoring Skeleton directory)<\/li>\n <\/ul>\n <p>\n Note: This will NOT search zip files. If you have a zip, call {@link #getPropertiesFromArchive(File)} \n instead.\n@param sourceFile the directory to inspect\n@param includeUninstalled if true, include extensions that have been marked for removal\n@return list of extension.properties files","static":true,"name":"findExtensionPropertyFiles","comment":"Returns a list of files representing all the extension.properties files found\n under a given directory. This will ONLY search the given directory and its immediate children. \n The conops are as follows:\n \n If sourceFile is a directory and it contains an extension.properties file, then that file is returned\n If sourceFile does not contain an extension.properties file, then any immediate directories are searched (ignoring Skeleton directory)\n \n \n Note: This will NOT search zip files. If you have a zip, call #getPropertiesFromArchive(File) \n instead.","params":[{"type_long":"generic.jar.ResourceFile","name":"sourceFile","comment":"the directory to inspect","type_short":"ResourceFile"},{"type_long":"boolean","name":"includeUninstalled","comment":"if true, include extensions that have been marked for removal","type_short":"boolean"}],"throws":[],"return":{"type_long":"java.util.List<generic.jar.ResourceFile>","comment":"list of extension.properties files","type_short":"List"}},{"javadoc":"Returns an extension.properties file if the given directory contains one at the\n top level.\n@param dir the directory to search\n@return a ResourceFile representing the extension.properties file, or null if doesn't exist","static":true,"name":"findExtensionPropertyFile","comment":"Returns an extension.properties file if the given directory contains one at the\n top level.","params":[{"type_long":"generic.jar.ResourceFile","name":"dir","comment":"the directory to search","type_short":"ResourceFile"}],"throws":[],"return":{"type_long":"generic.jar.ResourceFile","comment":"a ResourceFile representing the extension.properties file, or null if doesn't exist","type_short":"ResourceFile"}},{"javadoc":"Uses the {@link TaskLauncher} to run a separate task to perform the unzipping\/copying\n part of the install task. These operations are potentially long-running and need to be\n cancelable.\n@param file the file to install (either a zip or directory)\n@return true if the install was successful","static":true,"name":"runInstallTask","comment":"Uses the TaskLauncher to run a separate task to perform the unzipping\/copying\n part of the install task. These operations are potentially long-running and need to be\n cancelable.","params":[{"type_long":"java.io.File","name":"file","comment":"the file to install (either a zip or directory)","type_short":"File"}],"throws":[],"return":{"type_long":"boolean","comment":"true if the install was successful","type_short":"boolean"}},{"javadoc":"Recursively searches a given directory for any module manifest and extension \n properties files that are in an installed state and converts them to an uninstalled\n state.\n \n Specifically, the following will be renamed:\n <UL>\n <LI>Module.manifest to Module.manifest.uninstalled<\/LI>\n <LI>extension.properties = extension.properties.uninstalled<\/LI>\n <\/UL>\n@param extension the extension to modify\n@return false if any renames fail","static":true,"name":"removeStateFiles","comment":"Recursively searches a given directory for any module manifest and extension \n properties files that are in an installed state and converts them to an uninstalled\n state.\n \n Specifically, the following will be renamed:\n \n Module.manifest to Module.manifest.uninstalled\n extension.properties = extension.properties.uninstalled\n ","params":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionDetails","name":"extension","comment":"the extension to modify","type_short":"ExtensionDetails"}],"throws":[],"return":{"type_long":"boolean","comment":"false if any renames fail","type_short":"boolean"}},{"javadoc":"Recursively searches a given directory for any module manifest and extension \n properties files that are in an uninstalled state and restores them.\n \n Specifically, the following will be renamed:\n <UL>\n <LI>Module.manifest.uninstalled to Module.manifest<\/LI>\n <LI>extension.properties.uninstalled = extension.properties<\/LI>\n <\/UL>\n@param rootDir the directory to search\n@return false if any renames fail","static":true,"name":"restoreStateFiles","comment":"Recursively searches a given directory for any module manifest and extension \n properties files that are in an uninstalled state and restores them.\n \n Specifically, the following will be renamed:\n \n Module.manifest.uninstalled to Module.manifest\n extension.properties.uninstalled = extension.properties\n ","params":[{"type_long":"java.io.File","name":"rootDir","comment":"the directory to search","type_short":"File"}],"throws":[],"return":{"type_long":"boolean","comment":"false if any renames fail","type_short":"boolean"}},{"javadoc":"@param root the starting directory to search recursively\n@param fileName the file name search for\n@param foundFiles list of all matching files","static":true,"name":"findFilesWithName","comment":"","params":[{"type_long":"java.io.File","name":"root","comment":"the starting directory to search recursively","type_short":"File"},{"type_long":"java.lang.String","name":"fileName","comment":"the file name search for","type_short":"String"},{"type_long":"java.util.List<java.io.File>","name":"foundFiles","comment":"list of all matching files","type_short":"List"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Given a zip file, returns the {@link Properties} defined in the embedded extension.properties file.\n@param file the extension archive file\n@return the properties file, or null if doesn't exist\n@throws ExtensionException if there's a problem unpacking the zip file","static":true,"name":"getPropertiesFromArchive","comment":"Given a zip file, returns the Properties defined in the embedded extension.properties file.","params":[{"type_long":"java.io.File","name":"file","comment":"the extension archive file","type_short":"File"}],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if there's a problem unpacking the zip file","type_short":"ExtensionException"}],"return":{"type_long":"java.util.Properties","comment":"the properties file, or null if doesn't exist","type_short":"Properties"}},{"javadoc":"Copies the given folder to the extension install location. Any existing folder at that\n location will be deleted.\n <p>\n Note: Any existing folder with the same name will be overwritten.\n@param extension the extension folder\n@param monitor the task monitor\n@throws ExtensionException if the delete or copy fails\n@throws CancelledException if the user cancels the copy","static":true,"name":"copyToInstallationFolder","comment":"Copies the given folder to the extension install location. Any existing folder at that\n location will be deleted.\n \n Note: Any existing folder with the same name will be overwritten.","params":[{"type_long":"java.io.File","name":"extension","comment":"the extension folder","type_short":"File"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"the task monitor","type_short":"TaskMonitor"}],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if the delete or copy fails","type_short":"ExtensionException"},{"type_long":"ghidra.util.exception.CancelledException","comment":"if the user cancels the copy","type_short":"CancelledException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Unpacks a given zip file to {@link ApplicationLayout#getExtensionInstallationDir}. The \n file permissions in the original zip will be retained.\n <p>\n Note: This method uses the Apache zip files since they keep track of permissions info; \n the built-in java objects (ZipEntry et al.) do not.\n@param zipFile the zip file to unpack\n@param monitor the task monitor\n@throws ExtensionException if any part of the unzipping fails, or if the target location is invalid\n@throws CancelledException if the user cancels the unzip\n@throws IOException if error unzipping zip file","static":true,"name":"unzipToInstallationFolder","comment":"Unpacks a given zip file to ApplicationLayout#getExtensionInstallationDir. The \n file permissions in the original zip will be retained.\n \n Note: This method uses the Apache zip files since they keep track of permissions info; \n the built-in java objects (ZipEntry et al.) do not.","params":[{"type_long":"java.io.File","name":"zipFile","comment":"the zip file to unpack","type_short":"File"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"the task monitor","type_short":"TaskMonitor"}],"throws":[{"type_long":"ghidra.framework.plugintool.dialog.ExtensionException","comment":"if any part of the unzipping fails, or if the target location is invalid","type_short":"ExtensionException"},{"type_long":"ghidra.util.exception.CancelledException","comment":"if the user cancels the unzip","type_short":"CancelledException"},{"type_long":"java.io.IOException","comment":"if error unzipping zip file","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Extracts information from a Java Properties file to create an {@link ExtensionDetails}\n object.\n@param file the file to parse\n@return a new extension details object","static":true,"name":"createExtensionDetailsFromPropertyFile","comment":"Extracts information from a Java Properties file to create an ExtensionDetails\n object.","params":[{"type_long":"java.io.File","name":"file","comment":"the file to parse","type_short":"File"}],"throws":[],"return":{"type_long":"ghidra.framework.plugintool.dialog.ExtensionDetails","comment":"a new extension details object","type_short":"ExtensionDetails"}},{"javadoc":"Finds any extensions that have been installed since the last time a given tool was launched.\n@param tool the tool to check\n@return set of new extensions","static":true,"name":"getExtensionsInstalledSinceLastToolLaunch","comment":"Finds any extensions that have been installed since the last time a given tool was launched.","params":[{"type_long":"ghidra.framework.plugintool.PluginTool","name":"tool","comment":"the tool to check","type_short":"PluginTool"}],"throws":[],"return":{"type_long":"java.util.Set<ghidra.framework.plugintool.dialog.ExtensionDetails>","comment":"set of new extensions","type_short":"Set"}},{"javadoc":"Extracts information from a Java Properties file to create an {@link ExtensionDetails}\n object.\n@param resourceFile the resource file file to parse\n@return a new extension details object","static":true,"name":"createExtensionDetailsFromPropertyFile","comment":"Extracts information from a Java Properties file to create an ExtensionDetails\n object.","params":[{"type_long":"generic.jar.ResourceFile","name":"resourceFile","comment":"the resource file file to parse","type_short":"ResourceFile"}],"throws":[],"return":{"type_long":"ghidra.framework.plugintool.dialog.ExtensionDetails","comment":"a new extension details object","type_short":"ExtensionDetails"}},{"javadoc":"Attempts to delete any extension directories that do not contain a Module.manifest \n file. This indicates that the extension was slated to be uninstalled by the user.\n@see ExtensionTableModel#uninstallExtension","static":true,"name":"cleanupUninstalledExtensions","comment":"Attempts to delete any extension directories that do not contain a Module.manifest \n file. This indicates that the extension was slated to be uninstalled by the user.","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Extracts properties from a Java Properties file to create an {@link ExtensionDetails}\n object.\n@param props the java properties object\n@return a new extension details object","static":true,"name":"createExtensionDetailsFromProperties","comment":"Extracts properties from a Java Properties file to create an ExtensionDetails\n object.","params":[{"type_long":"java.util.Properties","name":"props","comment":"the java properties object","type_short":"Properties"}],"throws":[],"return":{"type_long":"ghidra.framework.plugintool.dialog.ExtensionDetails","comment":"a new extension details object","type_short":"ExtensionDetails"}},{"javadoc":"Converts Unix permissions to a set of {@link PosixFilePermission}s.\n@param unixMode integer representation of file permissions\n@return set of POSIX file permissions","static":true,"name":"getPermissions","comment":"Converts Unix permissions to a set of PosixFilePermissions.","params":[{"type_long":"int","name":"unixMode","comment":"integer representation of file permissions","type_short":"int"}],"throws":[],"return":{"type_long":"java.util.Set<java.nio.file.attribute.PosixFilePermission>","comment":"set of POSIX file permissions","type_short":"Set"}}],"name":"ExtensionUtils","comment":"Utility class for managing Ghidra Extensions. \n \n Extensions are defined as any archive or folder that contains an extension.properties\n file. This properties file can contain the following attributes:\n \n name (required)\n description\n author\n createdOn (format: mm\/dd\/yyyy)\n \n \n  Extensions may be installed\/uninstalled by users at runtime, using the ExtensionTableProvider. \n  Installation consists of unzipping the extension archive to an installation folder, currently \n  Ghidra\/Extensions. To uninstall, the unpacked folder is simply removed.","fields":[{"type_long":"int","javadoc":"Magic number that identifies the first bytes of a ZIP archive. This is used to verify \n\t \tthat a file is a zip rather than just checking the extension.","static":true,"name":"ZIPFILE","comment":"Magic number that identifies the first bytes of a ZIP archive. This is used to verify \n\t \tthat a file is a zip rather than just checking the extension.","type_short":"int","constant_value":"1347093252"},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"PROPERTIES_FILE_NAME","comment":"","type_short":"String","constant_value":null},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"PROPERTIES_FILE_NAME_UNINSTALLED","comment":"","type_short":"String","constant_value":null}]}
