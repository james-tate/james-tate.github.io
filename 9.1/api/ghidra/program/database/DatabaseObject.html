<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.1) on Wed Oct 23 17:47:22 EDT 2019 -->
<title>DatabaseObject</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-10-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DatabaseObject";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">ghidra.program.database</a></div>
<h2 title="Class DatabaseObject" class="title">Class DatabaseObject</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ghidra.program.database.DatabaseObject</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="bookmark/BookmarkDB.html" title="class in ghidra.program.database.bookmark">BookmarkDB</a></code>, <code><a href="symbol/EquateDB.html" title="class in ghidra.program.database.symbol">EquateDB</a></code>, <code><a href="function/FunctionDB.html" title="class in ghidra.program.database.function">FunctionDB</a></code>, <code><a href="function/FunctionTagDB.html" title="class in ghidra.program.database.function">FunctionTagDB</a></code>, <code><a href="code/InstructionDB.html" title="class in ghidra.program.database.code">InstructionDB</a></code>, <code><a href="data/SourceArchiveDB.html" title="class in ghidra.program.database.data">SourceArchiveDB</a></code>, <code><a href="symbol/SymbolDB.html" title="class in ghidra.program.database.symbol">SymbolDB</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">DatabaseObject</span>
extends java.lang.Object</pre>
<div class="block">Base class for an cached object in the database. Database objects have keys.  They are marked
 as invalid when a database cache is cleared and can be revived on a refresh as long
 as they haven't been deleted.  Instantiating an object will cause it to be added
 immediately to the associated cache.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#key">key</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(ghidra.program.database.DBObjectCache,long)">DatabaseObject</a></span>&#8203;(<a href="DBObjectCache.html" title="class in ghidra.program.database">DBObjectCache</a>&nbsp;cache,
              long&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Constructs a new DatabaseObject and adds it to the specified cache.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkDeleted()">checkDeleted</a></span>()</code></th>
<td class="colLast">
<div class="block">Checks if this object has been deleted, in which case any use of the object is
 not allowed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIsValid()">checkIsValid</a></span>()</code></th>
<td class="colLast">
<div class="block">Check whether this object is still valid.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIsValid(db.Record)">checkIsValid</a></span>&#8203;(<a href="../../../db/Record.html" title="class in db">Record</a>&nbsp;record)</code></th>
<td class="colLast">
<div class="block">Check whether this object is still valid.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getKey()">getKey</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the database key for this object.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isDeleted()">isDeleted</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if this object has been deleted.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isInvalid()">isInvalid</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if object is currently invalid.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keyChanged(long)">keyChanged</a></span>&#8203;(long&nbsp;newKey)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refresh()">refresh</a></span>()</code></th>
<td class="colLast">
<div class="block">Tells the object to refresh its state from the database.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refresh(db.Record)">refresh</a></span>&#8203;(<a href="../../../db/Record.html" title="class in db">Record</a>&nbsp;record)</code></th>
<td class="colLast">
<div class="block">Tells the object to refresh its state from the database using the specified
 record if not null.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setInvalid()">setInvalid</a></span>()</code></th>
<td class="colLast">
<div class="block">Invalidate this object.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validate(ghidra.util.Lock)">validate</a></span>&#8203;(<a href="../../util/Lock.html" title="class in ghidra.util">Lock</a>&nbsp;lock)</code></th>
<td class="colLast">
<div class="block">This method provides a cheap (lock free) way to test if an object is valid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="key">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>key</h4>
<pre>protected&nbsp;long key</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(ghidra.program.database.DBObjectCache,long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DatabaseObject</h4>
<pre>public&nbsp;DatabaseObject&#8203;(<a href="DBObjectCache.html" title="class in ghidra.program.database">DBObjectCache</a>&nbsp;cache,
                      long&nbsp;key)</pre>
<div class="block">Constructs a new DatabaseObject and adds it to the specified cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cache</code> - to be used for this object or null if object will not be cached</dd>
<dd><code>key</code> - database key to uniquely identify this object</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getKey()</pre>
<div class="block">Get the database key for this object.</div>
</li>
</ul>
<a id="isDeleted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeleted</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isDeleted()</pre>
<div class="block">Returns true if this object has been deleted.  Note: once an object has been deleted,
 it will never be "refreshed".  For example, if an object is ever deleted and is
 resurrected via an "undo", you will have get a fresh instance of the object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this object has been deleted.</dd>
</dl>
</li>
</ul>
<a id="setInvalid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInvalid</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setInvalid()</pre>
<div class="block">Invalidate this object. This does not necessarily mean that this object can
 never be used again.  If the object can refresh itself, it may still be useable.</div>
</li>
</ul>
<a id="keyChanged(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyChanged</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;keyChanged&#8203;(long&nbsp;newKey)</pre>
</li>
</ul>
<a id="isInvalid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInvalid</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isInvalid()</pre>
<div class="block">Returns true if object is currently invalid.  Calling checkIsValid may
 successfully refresh object making it valid.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#checkIsValid()"><code>checkIsValid()</code></a></dd>
</dl>
</li>
</ul>
<a id="checkDeleted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDeleted</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;checkDeleted()</pre>
<div class="block">Checks if this object has been deleted, in which case any use of the object is
 not allowed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.ConcurrentModificationException</code> - if the object has been deleted from the database.</dd>
</dl>
</li>
</ul>
<a id="checkIsValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIsValid</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkIsValid()</pre>
<div class="block">Check whether this object is still valid. If the object is invalid, the object will
 attempt to refresh itself.  If the refresh fails, the object will be marked as deleted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object is valid.</dd>
</dl>
</li>
</ul>
<a id="checkIsValid(db.Record)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkIsValid</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;checkIsValid&#8203;(<a href="../../../db/Record.html" title="class in db">Record</a>&nbsp;record)</pre>
<div class="block">Check whether this object is still valid. If the object is invalid, the object will
 attempt to refresh itself using the specified record.  If the refresh fails, the
 object will be marked as deleted and removed from cache.  If this object is already
 marked as deleted, the record can not be used to refresh the object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>record</code> - optional record which may be used to refresh invalid object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object is valid.</dd>
</dl>
</li>
</ul>
<a id="validate(ghidra.util.Lock)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;validate&#8203;(<a href="../../util/Lock.html" title="class in ghidra.util">Lock</a>&nbsp;lock)</pre>
<div class="block">This method provides a cheap (lock free) way to test if an object is valid.  If
 this object is invalid, then the lock will be used to refresh as needed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lock</code> - the lock that will be used if the object needs to be refreshed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if object is valid, else false</dd>
</dl>
</li>
</ul>
<a id="refresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre class="methodSignature">protected abstract&nbsp;boolean&nbsp;refresh()</pre>
<div class="block">Tells the object to refresh its state from the database.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object was able to refresh itself. Return false if the object
 was deleted. Objects that extend this class must implement a refresh method.  If
 an object can never refresh itself, then it should always return false.</dd>
</dl>
</li>
</ul>
<a id="refresh(db.Record)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>refresh</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;refresh&#8203;(<a href="../../../db/Record.html" title="class in db">Record</a>&nbsp;record)</pre>
<div class="block">Tells the object to refresh its state from the database using the specified
 record if not null.  NOTE: The default implementation ignores the record
 and invokes refresh().  Implementations of this method must take care if
 multiple database tables are used since the record supplied could correspond
 to another object.  In some cases it may be best not to override this method
 or ignore the record provided.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>record</code> - valid record associated with object's key (optional, may be null to force
 record lookup or other refresh technique)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the object was able to refresh itself. Return false if record is null
 and object was deleted. Objects that extend this class must implement a refresh method.
 If an object can never refresh itself, then it should always return false.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
