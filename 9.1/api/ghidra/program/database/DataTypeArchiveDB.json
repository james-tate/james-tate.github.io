{"implements":["ghidra.program.model.listing.DataTypeArchive","ghidra.program.util.DataTypeArchiveChangeManager"],"javadoc":"Database implementation for Data Type Archive.","static":false,"extends":"ghidra.framework.data.DomainObjectAdapterDB","methods":[{"javadoc":"Constructs a new DataTypeArchiveDB within a project folder.\n@param folder folder within which the project archive will be created\n@param name the name of the data type archive\n@param consumer the object that is using this data type archive.\n@throws IOException if there is an error accessing the database.\n@throws InvalidNameException\n@throws DuplicateNameException","static":false,"name":"<init>","comment":"Constructs a new DataTypeArchiveDB within a project folder.","params":[{"type_long":"ghidra.framework.model.DomainFolder","name":"folder","comment":"folder within which the project archive will be created","type_short":"DomainFolder"},{"type_long":"java.lang.String","name":"name","comment":"the name of the data type archive","type_short":"String"},{"type_long":"java.lang.Object","name":"consumer","comment":"the object that is using this data type archive.","type_short":"Object"}],"throws":[{"type_long":"java.io.IOException","comment":"if there is an error accessing the database.","type_short":"IOException"},{"type_long":"ghidra.util.exception.DuplicateNameException","comment":"","type_short":"DuplicateNameException"},{"type_long":"ghidra.util.InvalidNameException","comment":"","type_short":"InvalidNameException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Constructs a new DataTypeArchiveDB\n@param dbh a handle to an open data type archive database.\n@param openMode one of:\n \t\tREAD_ONLY: the original database will not be modified\n \t\tUPDATE: the database can be written to.\n \t\tUPGRADE: the database is upgraded to the latest schema as it is opened.\n@param monitor TaskMonitor that allows the open to be canceled.\n@param consumer the object that keeping the program open.\n@throws IOException if an error accessing the database occurs.\n@throws VersionException if database version does not match implementation, UPGRADE may be possible.\n@throws CancelledException if instantiation is canceled by monitor","static":false,"name":"<init>","comment":"Constructs a new DataTypeArchiveDB","params":[{"type_long":"db.DBHandle","name":"dbh","comment":"a handle to an open data type archive database.","type_short":"DBHandle"},{"type_long":"int","name":"openMode","comment":"one of:\n \t\tREAD_ONLY: the original database will not be modified\n \t\tUPDATE: the database can be written to.\n \t\tUPGRADE: the database is upgraded to the latest schema as it is opened.","type_short":"int"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"TaskMonitor that allows the open to be canceled.","type_short":"TaskMonitor"},{"type_long":"java.lang.Object","name":"consumer","comment":"the object that keeping the program open.","type_short":"Object"}],"throws":[{"type_long":"java.io.IOException","comment":"if an error accessing the database occurs.","type_short":"IOException"},{"type_long":"ghidra.util.exception.VersionException","comment":"if database version does not match implementation, UPGRADE may be possible.","type_short":"VersionException"},{"type_long":"ghidra.util.exception.CancelledException","comment":"if instantiation is canceled by monitor","type_short":"CancelledException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.framework.data.DomainObjectAdapter#setDomainFile(ghidra.framework.model.DomainFile)","static":false,"name":"setDomainFile","comment":"","params":[{"type_long":"ghidra.framework.model.DomainFile","name":"df","comment":"","type_short":"DomainFile"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"propertiesRestore","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"propertiesCreate","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.framework.data.DomainObjectAdapterDB#propertyChanged(java.lang.String, java.lang.Object, java.lang.Object)","static":false,"name":"propertyChanged","comment":"","params":[{"type_long":"java.lang.String","name":"propertyName","comment":"","type_short":"String"},{"type_long":"java.lang.Object","name":"oldValue","comment":"","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"","type_short":"Object"}],"throws":[],"return":{"type_long":"boolean","comment":"","type_short":"boolean"}},{"javadoc":"","static":false,"name":"isValidDefaultpointerSize","comment":"","params":[{"type_long":"int","name":"pointerSize","comment":"","type_short":"int"}],"throws":[],"return":{"type_long":"boolean","comment":"","type_short":"boolean"}},{"javadoc":"@see ghidra.program.model.listing.Program#getDataTypeManager()","static":false,"name":"getDataTypeManager","comment":"","params":[],"throws":[],"return":{"type_long":"ghidra.program.model.data.DataTypeManager","comment":"","type_short":"DataTypeManager"}},{"javadoc":"@see ghidra.program.model.listing.Program#getCreationDate()","static":false,"name":"getCreationDate","comment":"","params":[],"throws":[],"return":{"type_long":"java.util.Date","comment":"","type_short":"Date"}},{"javadoc":"@see ghidra.program.model.listing.Program#getDefaultStoredPointerSize()","static":false,"name":"getDefaultPointerSize","comment":"","params":[],"throws":[],"return":{"type_long":"int","comment":"","type_short":"int"}},{"javadoc":"@see ghidra.program.model.listing.Program#getChanges()","static":false,"name":"getChanges","comment":"","params":[],"throws":[],"return":{"type_long":"ghidra.program.database.DataTypeArchiveDBChangeSet","comment":"","type_short":"DataTypeArchiveDBChangeSet"}},{"javadoc":"notification the a data type has changed\n@param dataTypeID the id of the data type that changed.\n@param type the type of the change (moved, renamed, etc.)\n@param oldValue the old data type.\n@param newValue the new data type.","static":false,"name":"dataTypeChanged","comment":"notification the a data type has changed","params":[{"type_long":"long","name":"dataTypeID","comment":"the id of the data type that changed.","type_short":"long"},{"type_long":"int","name":"type","comment":"the type of the change (moved, renamed, etc.)","type_short":"int"},{"type_long":"java.lang.Object","name":"oldValue","comment":"the old data type.","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"the new data type.","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Notification that a data type was added.\n@param dataTypeID the id if the data type that was added.\n@param type should always be DATATYPE_ADDED\n@param oldValue always null\n@param newValue the data type added.","static":false,"name":"dataTypeAdded","comment":"Notification that a data type was added.","params":[{"type_long":"long","name":"dataTypeID","comment":"the id if the data type that was added.","type_short":"long"},{"type_long":"int","name":"type","comment":"should always be DATATYPE_ADDED","type_short":"int"},{"type_long":"java.lang.Object","name":"oldValue","comment":"always null","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"the data type added.","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Notification that a category was changed.\n@param categoryID the id of the data type that was added.\n@param type the type of changed\n@param oldValue old value depends on the type.\n@param newValue new value depends on the type.","static":false,"name":"categoryChanged","comment":"Notification that a category was changed.","params":[{"type_long":"long","name":"categoryID","comment":"the id of the data type that was added.","type_short":"long"},{"type_long":"int","name":"type","comment":"the type of changed","type_short":"int"},{"type_long":"java.lang.Object","name":"oldValue","comment":"old value depends on the type.","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"new value depends on the type.","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Notification that a category was added.\n@param categoryID the id of the data type that was added.\n@param type the type of changed (should always be CATEGORY_ADDED)\n@param oldValue always null\n@param newValue new value depends on the type.","static":false,"name":"categoryAdded","comment":"Notification that a category was added.","params":[{"type_long":"long","name":"categoryID","comment":"the id of the data type that was added.","type_short":"long"},{"type_long":"int","name":"type","comment":"the type of changed (should always be CATEGORY_ADDED)","type_short":"int"},{"type_long":"java.lang.Object","name":"oldValue","comment":"always null","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"new value depends on the type.","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Mark the state this Data Type Archive as having changed and generate\n the event.  Any or all parameters may be null.\n@param type event type\n@param oldValue original value\n@param newValue new value","static":false,"name":"setChanged","comment":"Mark the state this Data Type Archive as having changed and generate\n the event.  Any or all parameters may be null.","params":[{"type_long":"int","name":"type","comment":"event type","type_short":"int"},{"type_long":"java.lang.Object","name":"oldValue","comment":"original value","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"new value","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Mark the state of a Program as having changed and generate\n the event.  Any or all parameters may be null.\n NOTE: ChangeSet data will not be updated since this a very generic\n change not related to a specific address.\n@param type event type\n@param affectedObj object that is the subject of the event\n@param oldValue original value or an Object that is related to\n the event\n@param newValue new value or an Object that is related to the\n the event","static":false,"name":"setObjChanged","comment":"Mark the state of a Program as having changed and generate\n the event.  Any or all parameters may be null.\n NOTE: ChangeSet data will not be updated since this a very generic\n change not related to a specific address.","params":[{"type_long":"int","name":"type","comment":"event type","type_short":"int"},{"type_long":"java.lang.Object","name":"affectedObj","comment":"object that is the subject of the event","type_short":"Object"},{"type_long":"java.lang.Object","name":"oldValue","comment":"original value or an Object that is related to\n the event","type_short":"Object"},{"type_long":"java.lang.Object","name":"newValue","comment":"new value or an Object that is related to the\n the event","type_short":"Object"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.framework.model.DomainObject#setName(java.lang.String)","static":false,"name":"setName","comment":"","params":[{"type_long":"java.lang.String","name":"newName","comment":"","type_short":"String"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.framework.model.DomainObject#getDescription()","static":false,"name":"getDescription","comment":"","params":[],"throws":[],"return":{"type_long":"java.lang.String","comment":"","type_short":"String"}},{"javadoc":"","static":false,"name":"createDatabase","comment":"","params":[],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"Initialize the following fields from the database and check the database version for an existing database:\n <ul>\n <li>name<\/li>\n <li>languageName<\/li>\n <li>languageVersion<\/li>\n <li>LanguageMinorVersion<\/li>\n <\/ul>\n@param openMode program open mode\n@return version exception if the current version is out of date and can be upgraded.\n@throws IOException\n@throws VersionException if the data is newer than this version of Ghidra and can not be\n upgraded or opened.","static":false,"name":"initializeDatabase","comment":"Initialize the following fields from the database and check the database version for an existing database:\n \n name\n languageName\n languageVersion\n LanguageMinorVersion\n ","params":[{"type_long":"int","name":"openMode","comment":"program open mode","type_short":"int"}],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"},{"type_long":"ghidra.util.exception.VersionException","comment":"if the data is newer than this version of Ghidra and can not be\n upgraded or opened.","type_short":"VersionException"}],"return":{"type_long":"ghidra.util.exception.VersionException","comment":"version exception if the current version is out of date and can be upgraded.","type_short":"VersionException"}},{"javadoc":"","static":false,"name":"upgradeDatabase","comment":"","params":[],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"getStoredVersion","comment":"","params":[],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"int","comment":"","type_short":"int"}},{"javadoc":"","static":false,"name":"checkOldProperties","comment":"","params":[{"type_long":"int","name":"openMode","comment":"","type_short":"int"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"createManagers","comment":"","params":[{"type_long":"int","name":"openMode","comment":"","type_short":"int"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"","type_short":"TaskMonitor"}],"throws":[{"type_long":"ghidra.util.exception.CancelledException","comment":"","type_short":"CancelledException"},{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"ghidra.util.exception.VersionException","comment":"","type_short":"VersionException"}},{"javadoc":"","static":false,"name":"initManagers","comment":"","params":[{"type_long":"int","name":"openMode","comment":"","type_short":"int"},{"type_long":"ghidra.util.task.TaskMonitor","name":"monitor","comment":"","type_short":"TaskMonitor"}],"throws":[{"type_long":"ghidra.util.exception.CancelledException","comment":"","type_short":"CancelledException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.framework.data.DomainObjectAdapterDB#clearCache()","static":false,"name":"clearCache","comment":"","params":[{"type_long":"boolean","name":"all","comment":"","type_short":"boolean"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.program.model.listing.Program#invalidate()","static":false,"name":"invalidate","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"@see ghidra.framework.model.DomainObject#isChangeable()","static":false,"name":"isChangeable","comment":"","params":[],"throws":[],"return":{"type_long":"boolean","comment":"","type_short":"boolean"}},{"javadoc":"","static":false,"name":"setChanged","comment":"","params":[{"type_long":"boolean","name":"b","comment":"","type_short":"boolean"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"setChangeSet","comment":"","params":[{"type_long":"ghidra.program.database.DataTypeArchiveDBChangeSet","name":"changeSet","comment":"","type_short":"DataTypeArchiveDBChangeSet"}],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"getMetadata","comment":"","params":[],"throws":[],"return":{"type_long":"java.util.Map<java.lang.String,java.lang.String>","comment":"","type_short":"Map"}},{"javadoc":"","static":false,"name":"updateMetadata","comment":"","params":[],"throws":[{"type_long":"java.io.IOException","comment":"","type_short":"IOException"}],"return":{"type_long":"void","comment":"","type_short":"void"}},{"javadoc":"","static":false,"name":"updateID","comment":"","params":[],"throws":[],"return":{"type_long":"void","comment":"","type_short":"void"}}],"name":"DataTypeArchiveDB","comment":"Database implementation for Data Type Archive.","fields":[{"type_long":"int","javadoc":"DB_VERSION should be incremented any time a change is made to the overall\n database schema associated with any of the managers.\n 18-Sep-2008 - version 1 - added fields for synchronizing program data types with project archives.\n 03-Dec-2009 - version 2 - Added source archive updating (consolidating windows.gdt, clib.gdt, ntddk.gdt)","static":true,"name":"DB_VERSION","comment":"DB_VERSION should be incremented any time a change is made to the overall\n database schema associated with any of the managers.\n 18-Sep-2008 - version 1 - added fields for synchronizing program data types with project archives.\n 03-Dec-2009 - version 2 - Added source archive updating (consolidating windows.gdt, clib.gdt, ntddk.gdt)","type_short":"int","constant_value":"2"},{"type_long":"int","javadoc":"UPGRADE_REQUIRED_BEFORE_VERSION should be changed to DB_VERSION any time the\n latest version requires a forced upgrade (i.e., Read-only mode not supported\n until upgrade is performed).  It is assumed that read-only mode is supported \n if the data's version is >= UPGRADE_REQUIRED_BEFORE_VERSION and <= DB_VERSION.","static":true,"name":"UPGRADE_REQUIRED_BEFORE_VERSION","comment":"UPGRADE_REQUIRED_BEFORE_VERSION should be changed to DB_VERSION any time the\n latest version requires a forced upgrade (i.e., Read-only mode not supported\n until upgrade is performed).  It is assumed that read-only mode is supported \n if the data's version is = UPGRADE_REQUIRED_BEFORE_VERSION and = DB_VERSION.","type_short":"int","constant_value":"1"},{"type_long":"java.lang.String","javadoc":"Name of data type archive information property list","static":true,"name":"ARCHIVE_INFO","comment":"Name of data type archive information property list","type_short":"String","constant_value":"\"Data Type Archive Information\""},{"type_long":"java.lang.String","javadoc":"Name of data type archive settings property list","static":true,"name":"ARCHIVE_SETTINGS","comment":"Name of data type archive settings property list","type_short":"String","constant_value":"\"Data Type Archive Settings\""},{"type_long":"java.lang.String","javadoc":"Name of date created property","static":true,"name":"DATE_CREATED","comment":"Name of date created property","type_short":"String","constant_value":"\"Date Created\""},{"type_long":"java.lang.String","javadoc":"Name of Ghidra version property","static":true,"name":"CREATED_WITH_GHIDRA_VERSION","comment":"Name of Ghidra version property","type_short":"String","constant_value":"\"Created With Ghidra Version\""},{"type_long":"java.util.Date","javadoc":"A date from January 1, 1970","static":true,"name":"JANUARY_1_1970","comment":"A date from January 1, 1970","type_short":"Date","constant_value":null},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"ARCHIVE_DB_VERSION","comment":"","type_short":"String","constant_value":"\"DB Version\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"TABLE_NAME","comment":"","type_short":"String","constant_value":"\"Data Type Archive\""},{"type_long":"java.lang.String","javadoc":"","static":true,"name":"DEFAULT_POINTER_SIZE","comment":"","type_short":"String","constant_value":"\"Default Pointer Size\""},{"type_long":"java.lang.Class<?>[]","javadoc":"","static":true,"name":"COL_CLASS","comment":"","type_short":"java.lang.Class<?>[]","constant_value":null},{"type_long":"java.lang.String[]","javadoc":"","static":true,"name":"COL_TYPES","comment":"","type_short":"java.lang.String[]","constant_value":null},{"type_long":"db.Schema","javadoc":"","static":true,"name":"SCHEMA","comment":"","type_short":"Schema","constant_value":null},{"type_long":"ghidra.program.database.data.ProjectDataTypeManager","javadoc":"","static":false,"name":"dataTypeManager","comment":"","type_short":"ProjectDataTypeManager","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"recordChanges","comment":"","type_short":"boolean","constant_value":null},{"type_long":"boolean","javadoc":"","static":false,"name":"changeable","comment":"","type_short":"boolean","constant_value":null},{"type_long":"db.Table","javadoc":"","static":false,"name":"table","comment":"","type_short":"Table","constant_value":null}]}
